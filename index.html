<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
      integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:200i,300,400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Raleway:700&display=swap"
      rel="stylesheet"
    />

    <link rel="shortcut icon" type="image/jpg" href="favicon.ico" />

    <link href="main.css" rel="stylesheet" />

    <title>Bachir Amiri | Full stack web developer</title>
  </head>
  <body>

    <!-- SCROLL TOP FIXED-->
    <button onclick="topFunction()" id="scrollTop" title="Go to top">
      <i class="fas fa-chevron-circle-up"></i>
    </button>

    <!-- END SCROLL TOP-->

    <!-- START NAV -->

    <nav id="navbar" class="nav">
      <a class="nav-name" href="https://bachir.dev"
        >Bachir
        <p>Amiri</p></a
      >

      <ul class="nav-list">
        <li>
          <a class="first after" href="#welcome-section">About</a>
        </li>
        <li>
          <a class="first after" href="#contact">Contact</a>
        </li>

        <div class="container" data-state="sun">
          <div class="toggle--wrapper">
            <input type="checkbox" id="checkbox" />
            <div class="toggle--knob"></div>
          </div>
        </div>
      </ul>
    </nav>

    <!-- END NAV -->

    <!-- START WELCOME SECTION -->

    <section id="welcome-section" class="welcome-section">
      <div id="center">
        <div id="welcome_content">
          <h1>Hey i'm Bachir</h1>
          <p id="desc">
            A full stack web developer based in Paris. I'm curently focusing
            especially on front-end and PWA. You can check my Resumé
            <a href="#contact">here</a>.
          </p>
        </div>
        <div id="welcome_media"><img src="ressources/web_developer.svg" /></div>
      </div>
      <a class="scroll-down" href="#contact"></a>
    </section>

    <!-- END WELCOME SECTION -->

    <!-- START CONTACT SECTION -->

    <section id="contact" class="contact-section">
      <div class="contact-section-header">
        <h2>Where to find me ...</h2>
        <p>Feel free to come say hi !</p>
      </div>
      <div class="contact-links">
        <a href="mailto:bachir.amiri.pro@gmail.com" class="btn contact-details">
          <i class="far fa-envelope"></i> Mail
        </a>
        <a
          id="profile-link"
          href="https://github.com/BachirAmiri"
          target="_blank"
          class="btn contact-details"
          ><i class="fab fa-github"></i> GitHub
        </a>
        <a
          href="https://fr.linkedin.com/in/bachir-amiri"
          target="_blank"
          class="btn contact-details"
          ><i class="fab fa-linkedin"></i> Linkedin
        </a>
        <a
          href="ressources/cv/CV.pdf"
          target="_blank"
          class="btn contact-details"
          ><i class="far fa-file-alt"></i> Resumé
        </a>
      </div>
    </section>

    <!-- END CONTACT SECTION -->

    <!-- START FOOTER SECTION -->

    <footer>
      <p>
        Made with <i class="fas fa-pizza-slice"></i> and
        <i class="fas fa-music"></i>
      </p>
      <p>
        &copy; 2020 Bachir Amiri
      </p>
    </footer>

    <!-- END FOOTER SECTION -->
  </body>
</html>

<script>
  /* Scroll top */

  var mybutton = document.getElementById("scrollTop");

  window.onscroll = function() {
    scrollFunction();
  };

  function scrollFunction() {
    if (
      document.body.scrollTop > 20 ||
      document.documentElement.scrollTop > 20
    ) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }

  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }

  /* Theme restore and toggle  */
  if (
    typeof localStorage != "undefined" &&
    localStorage.getItem("theme") != null
  ) {
    document.documentElement.setAttribute(
      "data-theme",
      localStorage.getItem("theme")
    );
    document.documentElement.setAttribute(
      "data-state",
      localStorage.getItem("toggle")
    );
  }

  const elToggle = document.querySelector(".toggle--wrapper");
  const elApp = document.querySelector(".container");

  const machine = {
    initial:
      typeof localStorage != "undefined"
        ? localStorage.getItem("toggle")
        : elApp.dataset.state, //'day',
    states: {
      sun: {
        on: {
          TOGGLE: "moon"
        }
      },
      moon: {
        on: {
          TOGGLE: "sun"
        }
      }
    }
  };

  elToggle.addEventListener("click", e => {
    const currentState =
      typeof localStorage != "undefined" &&
      localStorage.getItem("toggle") != null
        ? localStorage.getItem("toggle")
        : elApp.dataset.state;
    const nextState = machine.states[currentState].on.TOGGLE;
    toggleState(nextState);
    if (nextState === "sun") {
      document.documentElement.setAttribute("data-theme", "dark");
      document.documentElement.setAttribute("data-state", "sun");
      localStorage.setItem("theme", "dark");
      localStorage.setItem("toggle", "sun");
    } else {
      document.documentElement.setAttribute("data-theme", "light");
      document.documentElement.setAttribute("data-state", "moon");
      localStorage.setItem("theme", "light");
      localStorage.setItem("toggle", "moon");
    }
  });

  const toggleState = state => {
    elApp.dataset.state = state;
  };
</script>
